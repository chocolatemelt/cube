(this.webpackJsonpcube=this.webpackJsonpcube||[]).push([[0],{149:function(e,t,a){},150:function(e,t,a){},151:function(e,t){!function(e,t,a){var n=!(!t||!t.pushState),r={ANCHOR_REGEX:/^#[^ ]+$/,OFFSET_HEIGHT_PX:parseFloat(getComputedStyle(e.querySelector("body")).fontSize),init:function(){this.scrollToCurrent(),window.addEventListener("hashchange",this.scrollToCurrent.bind(this)),e.body.addEventListener("click",this.delegateAnchors.bind(this))},getFixedOffset:function(){return this.OFFSET_HEIGHT_PX},scrollIfAnchor:function(r,i){var o,c,l;return!!this.ANCHOR_REGEX.test(r)&&((o=e.getElementById(r.slice(1)))&&(c=o.getBoundingClientRect(),l=window.pageYOffset+c.top-this.getFixedOffset(),window.scrollTo(window.pageXOffset,l),n&&i&&t.pushState({},e.title,a.pathname+r)),!!o)},scrollToCurrent:function(){this.scrollIfAnchor(window.location.hash)},delegateAnchors:function(e){var t=e.target;"A"===t.nodeName&&this.scrollIfAnchor(t.getAttribute("href"),!0)&&e.preventDefault()}};window.addEventListener("DOMContentLoaded",r.init.bind(r))}(window.document,window.history,window.location)},152:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(34),o=a.n(i),c=a(11),l=a(35),s=a.n(l),d=a(9),u=a(36),m=a.n(u),h=a(37),f=a(38),v=a(5),p=a(41),g=a(43),b=a(39),E=a.n(b),w=a(10),k=a.n(w),H=(a(149),a(42)),O=function(e){var t=e.display,a=e.mobileMode,n=e.imageUri,i=e.imageWidth,o=e.cardName,c=e.mouseClickHandler,l={width:i};return a?r.a.createElement(r.a.Fragment,null,t&&r.a.createElement("img",{className:k()("mtgCardViewerBox",{mobile:a}),src:n,alt:o,style:l,onClick:c})):r.a.createElement(H.a,{className:"mtg-tooltip",id:o,arrowColor:"transparent",place:"bottom",wrapper:"span"},r.a.createElement("img",{src:n,alt:o,style:l,onClick:c}))},C=function(e){var t=e.cardName,a=e.cardText,n=e.mobileMode,i=e.onClickHandler,o=e.uri;return n?r.a.createElement("a",{href:o,onClick:i},a||t):r.a.createElement("a",{href:o,"data-tip":!0,"data-for":t},a||t)},y=function(e){Object(g.a)(a,e);var t=Object(p.a)(a);function a(e){var n;Object(h.a)(this,a),n=t.call(this,e);var r=e.searchTerm.split("|");return n.state={searchTerm:r[0],searchSet:r[1],cardName:"",imageUri:"#",uri:"#",isHovered:!1,cardFound:!1,imageWidth:e.imageWidth?e.imageWidth:"280px"},n.setWrapperRef=n.setWrapperRef.bind(Object(v.a)(n)),n.mouseOverHandler=n.mouseOverHandler.bind(Object(v.a)(n)),n.mouseLeaveHandler=n.mouseLeaveHandler.bind(Object(v.a)(n)),n.mouseClickHandler=n.mouseClickHandler.bind(Object(v.a)(n)),n.onClickHandler=n.onClickHandler.bind(Object(v.a)(n)),n.onClickOutsideHandler=n.onClickOutsideHandler.bind(Object(v.a)(n)),n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.searchTerm,n=t.searchSet;document.addEventListener("mousedown",this.onClickOutsideHandler),E.a.get(this.buildUrl(a,n)).then((function(t){var a=t.data;if(a.total_cards){var n=a.data[0],r=n.image_uris.normal;e.setState({cardName:n.name,imageUri:r,uri:n.scryfall_uri,cardFound:!0})}})).catch((function(t){e.setState({cardName:"[card not found]"})}))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onClickOutsideHandler)}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"onClickOutsideHandler",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)&&this.setState({isHovered:!1})}},{key:"onClickHandler",value:function(e){e.preventDefault(),this.setState({isHovered:!0})}},{key:"mouseOverHandler",value:function(){this.setState({isHovered:!0})}},{key:"mouseLeaveHandler",value:function(){this.setState({isHovered:!1})}},{key:"mouseClickHandler",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({isHovered:!1})}},{key:"buildUrl",value:function(e,t){var a=t?"set:".concat(t):"";return"".concat(this.scryfallSearch,'!"').concat(e,'"').concat(a)}},{key:"render",value:function(){var e=this.props,t=e.mobileMode,a=e.text,n=this.state,i=n.cardName,o=n.imageUri,c=n.uri,l=n.isHovered,s=n.cardFound,d=n.imageWidth;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ins",{className:k()("mtgCardViewer",{mobile:t}),ref:this.setWrapperRef},r.a.createElement(C,{mobileMode:t,uri:c,cardName:i,cardText:a,onClickHandler:this.onClickHandler}),s&&r.a.createElement(O,{imageUri:o,cardName:i,imageWidth:d,display:l,mobileMode:t,mouseClickHandler:this.mouseClickHandler})))}},{key:"scryfallSearch",get:function(){return"https://api.scryfall.com/cards/search?q="}}]),a}(r.a.Component),N=function(e){var t=e.children,a=e.slug,i=Object(n.useState)(!1),o=Object(c.a)(i,2),l=o[0],s=o[1];return r.a.createElement("div",{className:"heading",onMouseEnter:function(){s(!0)},onMouseLeave:function(){s(!1)}},l&&r.a.createElement("a",{className:"anchor","aria-hidden":"true",href:"#".concat(a)},r.a.createElement("svg",{className:"anchor-link",viewBox:"0 0 16 16",version:"1.1",width:"24",height:"24","aria-hidden":"true"},r.a.createElement("path",{fillRule:"evenodd",d:"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"}))),t,l&&r.a.createElement("a",{className:"top",href:"#index"},"top"))},S={heading:function(e){var t=e.level,a=e.children,i=m()(a[0].props.value),o=Object(n.createElement)("h".concat(t),{id:i},a);return 1===t?r.a.createElement("div",{className:"title"},o):r.a.createElement(N,{slug:i},o)},image:function(e){var t=e.alt,a=e.title,n=e.src;return"."===n?r.a.createElement(y,{searchTerm:t,text:a,mobileMode:d.isMobile}):r.a.createElement("img",{alt:t,title:a,src:n})}},j=(a(150),a(40)),x=a.n(j),M=function(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),a=t[0],i=t[1];return Object(n.useEffect)((function(){fetch(x.a).then((function(e){return e.text()})).then((function(e){return i(e)}))})),r.a.createElement("div",{className:"cube"},r.a.createElement(s.a,{source:a,renderers:S}),d.isMobile&&r.a.createElement("a",{className:"top fixed",href:"#index"},"top"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(151);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},40:function(e,t,a){e.exports=a.p+"static/media/Main.7fbc5f8c.md"},44:function(e,t,a){e.exports=a(152)}},[[44,1,2]]]);
//# sourceMappingURL=main.f6a9a550.chunk.js.map